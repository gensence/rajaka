---
template: post
title: 【PHP】ページのパスワード保護
slug: php-password-protect
draft: false
priority: 0
date: 2018-12-08T07:55:56.172Z
description: 訪問者に続行するにはログインを要求する簡単なサンプル
category: PHP
tags:
  - プログラミング
---
下記のprotect.phpは、ページをパスワードで保護するためのシンプルなPHPスクリプトです。

訪問者がページの表示を続行するにはパスワードとユーザー名を入力する機能を追加します。

### 使い方

> この関数をコードに含め、有効なユーザ名とパスワードを指定してページの先頭で呼び出してください。

<!--StartFragment-->

### protect.php  コード

```
function passwordProtect($username, $password){
	if (
			(
				!isset($_SERVER['PHP_AUTH_USER']) ||
				(
					isset($_SERVER['PHP_AUTH_USER']) &&
					$_SERVER['PHP_AUTH_USER'] != $username
				)
			) &&
			(
				!isset($_SERVER['PHP_AUTH_PW']) ||
				(
					isset($_SERVER['PHP_AUTH_PW']) &&
					$_SERVER['PHP_AUTH_PW'] != $password
				)
			)
		)
	{
		header('WWW-Authenticate: Basic realm="Login"');
		header('HTTP/1.0 401 Unauthorized');
		echo '続行するにはログインしてください。';
		exit;
	}
}
```

<!--EndFragment-->