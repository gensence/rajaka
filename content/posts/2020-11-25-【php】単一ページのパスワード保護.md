---
template: post
title: 【PHP】単一ページのパスワード保護
slug: php-password-protect
draft: false
priority: 0
date: 2018-12-08T07:55:56.172Z
description: 訪問者に続行するにはログインを要求する方法
category: PHP
tags:
  - プログラミング
---
![php](/media/php.png "php")

下記のprotect.phpは、単一ページを保護するためのPHPスクリプトです。

訪問者は、ページの内容を表示するためにパスワードとユーザー名を入力する必要があります。

### 使い方

> この関数をコードに含め、有効なユーザ名とパスワードを指定してページの先頭で呼び出してください。

<!--StartFragment-->

##### Source code for protect.php

```
function passwordProtect($username, $password){
	if (
			(
				!isset($_SERVER['PHP_AUTH_USER']) ||
				(
					isset($_SERVER['PHP_AUTH_USER']) &&
					$_SERVER['PHP_AUTH_USER'] != $username
				)
			) &&
			(
				!isset($_SERVER['PHP_AUTH_PW']) ||
				(
					isset($_SERVER['PHP_AUTH_PW']) &&
					$_SERVER['PHP_AUTH_PW'] != $password
				)
			)
		)
	{
		header('WWW-Authenticate: Basic realm="Login"');
		header('HTTP/1.0 401 Unauthorized');
		echo '続行するにはログインしてください。';
		exit;
	}
}
```

<!--EndFragment-->